<?php\n\ndeclare(strict_types=1);\n\nuse App\\Http\\Controllers\\ProfileController;\nuse App\\Http\\Controllers\\LeadsController;\nuse App\\Http\\Controllers\\ScraperController;\nuse App\\Http\\Controllers\\CampaignAutomationController;\nuse App\\Http\\Controllers\\CampaignsController;\nuse App\\Http\\Controllers\\CampaignStepController;\nuse App\\Http\\Controllers\\ScoringRuleController;\nuse App\\Http\\Controllers\\AnalyticsController;\nuse App\\Http\\Controllers\\SegmentController;\nuse App\\Http\\Controllers\\ReportsController;\nuse App\\Http\\Controllers\\SubscriptionController;\nuse Illuminate\Support\\Facades\\Route;\n\nRoute::get(\'/dashboard\', function () {\n    return view(\'dashboard\');\n})->middleware([\'auth\', \'verified\'])->name(\'dashboard\');\n\nRoute::middleware(\'auth\')->group(function () {\n    Route::get(\'/profile\', [ProfileController::class, \'edit\'])->name(\'profile.edit\');\n    Route::patch(\'/profile\', [ProfileController::class, \'update\'])->name(\'profile.update\');\n    Route::delete(\'/profile\', [ProfileController::class, \'destroy\'])->name(\'profile.destroy\');\n\n    Route::resource(\'leads\', LeadsController::class);\n    Route::get(\'segments/{segment}\', [SegmentController::class, \'show\'])->name(\'segments.show\');\n\n    Route::resource(\'campaigns\', CampaignsController::class);\n    Route::resource(\'campaigns.steps\', CampaignStepController::class)->shallow();\n\n    Route::resource(\'scoring-rules\', ScoringRuleController::class);\n\n    Route::get(\'/scraper\', function () {\n        return view(\'scraper\');\n    })->name(\'scraper\');\n    Route::post(\'/scrape\', [ScraperController::class, \'scrape\'])->name(\'scrape.post\');\n\n    Route::post(\'/campaigns/{campaign}/start\', [CampaignAutomationController::class, \'start\'])->name(\'campaigns.start\');\n\n    Route::get(\'analytics/lead-score-distribution\', [AnalyticsController::class, \'showLeadScoreDistribution\'])->name(\'analytics.lead-score-distribution\');\n\n    Route::get(\'reports\', [ReportsController::class, \'index\'])->name(\'reports.index\');\n});\n\nRoute::middleware([\'auth\', \'verified\'])->prefix(\'billing\')->as(\'subscriptions.\')->group(function () {\n    Route::get(\'/\', [SubscriptionController::class, \'index\'])->name(\'index\');\n    Route::post(\'/\', [SubscriptionController::class, \'store\'])->name(\'store\');\n    Route::post(\'/cancel\', [SubscriptionController::class, \'cancel\'])->name(\'cancel\');\n});\n